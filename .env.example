# ============================================
# CatRealm Self-Hosted Server Configuration
# ============================================

# ── Server ────────────────────────────────────────────────────────────────────
PORT=40500
SERVER_URL=http://0.0.0.0:40500
SERVER_NAME=My CatRealm Server
SERVER_DESCRIPTION=A cozy self-hosted chat server

# ── Security ───────────────────────────────────────────────────────────────────
# This will auto generate
JWT_SECRET=change-this-to-a-long-random-string
# Message-at-rest secure mode (0=disabled, 1=enabled and permanently locked)
# Supports either SECURE_MODE or secure-mode
SECURE_MODE=1
# This is auto generated when SECURE_MODE=1
SECURE_MODE_KEY=
# You can also manually make a random key if you don't want it to auto make one (min 16)

# ── Registration ───────────────────────────────────────────────────────────────
# Set to 'false' to prevent new signups (invite-only)
REGISTRATION_OPEN=true

# ── Database ───────────────────────────────────────────────────────────────────
DB_PATH=./data/catrealm.db

# ── CORS ───────────────────────────────────────────────────────────────────────
# Set to your client's URL in production, or leave as * for open access
CLIENT_URL=*

# ── Uploads ────────────────────────────────────────────────────────────────────
UPLOADS_DIR=./data/uploads
UGC_IMAGES_DIR=./data/ugc/images

# Optional: default avatar URL for newly created local/central-linked users
#DEFAULT_AVATAR_URL=https://cdn.example.com/default-avatar.png

# Optional: block exact usernames (case-insensitive, applied in decentral_only mode)
#BLOCKED_USERNAMES=admin,moderator,official
#BLOCKED_USERNAMES_FILE=./blocked-usernames.txt

# Server Mode (optional)
# - decentral_only: Only local accounts
# - mixed: Both local and central accounts (default)
# - central_only: Only central accounts
#SERVER_MODE=mixed

# ── Media Limits ───────────────────────────────────────────────────────────────
#MEDIA_MAX_MB=20
#AVATAR_MAX_MB=10
#MAX_PINS=300
#MENTION_ALIAS=@everyone

# ── SSL / Auto-SSL ────────────────────────────────────────────────────────────
# Auto-SSL via Let's Encrypt (set both to enable)
#SSL_DOMAIN=example.com
#SSL_EMAIL=admin@example.com

# Challenge mode — leave blank for HTTP-01 (requires port 80)
# Set both for DNS-01 (no port 80 needed). Supported providers: cloudflare
#SSL_DNS_PROVIDER=cloudflare
#SSL_DNS_API_TOKEN=your-cloudflare-api-token

# Or provide manual certificate paths
#SSL_CERT_PATH=/path/to/fullchain.pem
#SSL_KEY_PATH=/path/to/privkey.pem

# ── Voice Chat (TURN/STUN) ────────────────────────────────────────────────────
# TURN Mode:
# - fallback: Use public fallback servers
# - custom: Use your own TURN server
# - central: Use CatRealm central TURN server (default)
#TURN_MODE=central

# Custom TURN Server Settings (if TURN_MODE=custom)
#TURN_HOST=turn.example.com
#TURN_PORT=3478
#TURN_TLS_PORT=5349
#TURN_SECRET=your-turn-server-secret

# ── Pterodactyl Support ───────────────────────────────────────────────────────
# These are auto-detected by Pterodactyl, no need to set manually
#SERVER_PORT=25600

# ── Auto Update (Git) ─────────────────────────────────────────────────────────
# If true, startup launcher will fetch/reset to origin/GIT_BRANCH when .git exists.
AUTO_UPDATE=true
GIT_REPO=https://github.com/VanillaChan6571/CatRealm-SelfHostable-Server.git
GIT_BRANCH=main
