# ============================================
# CatRealm Self-Hosted Server - Windows
# ============================================
# This is the Windows-optimized configuration file.
# Linux/Pterodactyl users should use .env.example instead.

# ── Server ────────────────────────────────────────────────────────────────────
PORT=40500
SERVER_URL=http://0.0.0.0:40500
SERVER_NAME=My CatRealm Server
SERVER_DESCRIPTION=A cozy self-hosted chat server

# ── Security ───────────────────────────────────────────────────────────────────
# This will auto generate on first start
JWT_SECRET=change-this-to-a-long-random-string
# Message-at-rest secure mode (0=disabled, 1=enabled and permanently locked)
# Supports either SECURE_MODE or secure-mode
SECURE_MODE=1
# This is auto generated when SECURE_MODE=1
SECURE_MODE_KEY=
# You can also manually make a random key if you don't want it to auto make one (min 16)

# ── Registration ───────────────────────────────────────────────────────────────
# Set to 'false' to prevent new signups (invite-only)
REGISTRATION_OPEN=true

# ── Database ───────────────────────────────────────────────────────────────────
DB_PATH=./data/catrealm.db

# ── CORS ───────────────────────────────────────────────────────────────────────
# Set to your client's URL in production, or leave as * for open access
CLIENT_URL=*

# ── Uploads ────────────────────────────────────────────────────────────────────
UPLOADS_DIR=./data/uploads
UGC_IMAGES_DIR=./data/ugc/images

# ── LAN Access (Uncomment and set your PC's IP for LAN access) ───────────────
# To allow other devices on your network to connect:
# 1. Find your IP: Open Command Prompt and run: ipconfig
# 2. Look for "IPv4 Address" (usually 192.168.x.x)
# 3. Uncomment and set SERVER_URL below:
#SERVER_URL=http://0.0.0.0:40500

# ── Central Auth (Optional) ───────────────────────────────────────────────────
# Uncomment to enable central authentication with CatRealm auth server
#AUTH_SERVER_URL=https://auth.catrealm.app

# Server Mode (optional)
# - decentral_only: Only local accounts (default, recommended for Windows)
# - mixed: Both local and central accounts
# - central_only: Only central accounts
SERVER_MODE=mixed

# ── Media Limits ───────────────────────────────────────────────────────────────
#MEDIA_MAX_MB=20
#AVATAR_MAX_MB=10
#MAX_PINS=300
#MENTION_ALIAS=@everyone

# ── SSL / HTTPS (Advanced - Not needed for localhost) ────────────────────────
# Only needed if you're hosting publicly on the internet
#SSL_CERT_PATH=C:\path\to\fullchain.pem
#SSL_KEY_PATH=C:\path\to\privkey.pem

# ── Voice Chat (TURN/STUN) ────────────────────────────────────────────────────
# Default fallback servers work fine for most users
# TURN Mode:
# - fallback: Use public fallback servers (default, recommended)
# - custom: Use your own TURN server
# - central: Use CatRealm central TURN server
#TURN_MODE=central

# Custom TURN Server Settings (if TURN_MODE=custom)
#TURN_HOST=turn.example.com
#TURN_PORT=3478
#TURN_TLS_PORT=5349
#TURN_SECRET=your-turn-server-secret

# ── Auto Update (Git) ─────────────────────────────────────────────────────────
# Used by scripts/auto-update-start.sh and Pterodactyl startup launcher.
AUTO_UPDATE=true
GIT_REPO=https://github.com/VanillaChan6571/CatRealm-SelfHostable-Server.git
GIT_BRANCH=main
